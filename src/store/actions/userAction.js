import { LOGIN_USER, LOGIN_USER_ERR, GET_USERS, GET_USERS_ERR } from '../actionTypes/userType'
import { loginUserApi, getUsersApi } from 'api/Api';
import axios from "axios";
import { accessToken } from 'api/Token'

// LOGIN USER ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const loginUser = payload => async dispatch => {
    try {
        let results = await axios.post(`${loginUserApi}`, payload)
        let data = results && results.data
        dispatch({
            type: LOGIN_USER,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: LOGIN_USER_ERR,
            payload: error && error.response
        });
    }
}
// LOGIN USER ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const getUsers = payload => async dispatch => {
    try {
        
        let results = await axios.get(`${getUsersApi}`, payload, await accessToken())
        console.log("HICheck **** User", results)
        let data = results && results.data
        dispatch({
            type: GET_USERS,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: GET_USERS_ERR,
            payload: error && error.response
        });
    }
}