import { CREATE_BOOKING, CREATE_BOOKING_ERR, ASSIGN_BOOKING, ASSIGN_BOOKING_ERR, GET_BOOKINGS, GET_BOOKINGS_ERR, GET_BOOKING, GET_BOOKING_ERR, CANCEL_ASSIGN_BOOKING, CANCEL_ASSIGN_BOOKING_ERR } from '../actionTypes/bookingType'
import { createBookingApi, getBookingsApi, getBookingApi, assignBookingApi, cancelAssignBookingApi } from 'api/Api';
import axios from "axios";
import { accessToken } from 'api/Token'

// CREATE BOOKIGNS ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const createBooking = payload => async dispatch => {
    try {
        let results = await axios.post(`${createBookingApi}`, payload, await accessToken())
        // console.log("createBookingApi", results)
        let data = results && results.data
        dispatch({
            type: CREATE_BOOKING,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: CREATE_BOOKING_ERR,
            payload: error.response
        });
    }
}

// ASSIGN BOOKIGNS ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const assignBooking = payload => async dispatch => {
    try {
        let results = await axios.patch(`${assignBookingApi}`, payload, await accessToken())
        // console.log("createBookingApi", results)
        let data = results && results.data
        dispatch({
            type: ASSIGN_BOOKING,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: ASSIGN_BOOKING_ERR,
            payload: error.response
        });
    }
}

// CANCEL ASSIGN BOOKIGNS ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const cancelAssignBooking = payload => async dispatch => {
    try {
        let results = await axios.patch(`${cancelAssignBookingApi}`, payload, await accessToken())
        let data = results && results.data
        dispatch({
            type: CANCEL_ASSIGN_BOOKING,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: CANCEL_ASSIGN_BOOKING_ERR,
            payload: error.response
        });
    }
}

// GET BOOKIGNS ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const bookings = payload => async dispatch => {
    try {
        let results = await axios.get(`${getBookingsApi}/all/${payload}/0`, await accessToken())
        let data = results && results.data
        dispatch({
            type: GET_BOOKINGS,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: GET_BOOKINGS_ERR,
            payload: error.response
        });
    }
}

//GET BOOKING ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
export const booking = payload => async dispatch => {
    try {
        let results = await axios.get(`${getBookingApi}/${payload}`, await accessToken())
        let data = results && results.data
        dispatch({
            type: GET_BOOKING,
            payload: data || [],
        });
    } catch (error) {
        dispatch({
            type: GET_BOOKING_ERR,
            payload: error.response
        });
    }
}